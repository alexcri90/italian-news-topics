<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ title }} | Tendenze Notizie Italiane</title>
  <meta name="description" content="Analisi giornaliera degli argomenti di tendenza sui principali quotidiani italiani">
  
  <!-- Favicon -->
  <link rel="icon" href="{{ '/assets/img/favicon.ico' | url }}">
  
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="{{ '/assets/css/bootstrap.min.css' | url }}">
  
  <!-- Custom CSS -->
  <link rel="stylesheet" href="{{ '/assets/css/main.css' | url }}">
</head>
<body>
  <header class="bg-dark text-white py-3">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-6">
          <h1 class="h3 mb-0">
            <a href="{{ '/' | url }}" class="text-white text-decoration-none">Tendenze Notizie Italiane</a>
          </h1>
        </div>
        <div class="col-md-6">
          <nav class="d-flex justify-content-end">
            <ul class="nav">
              <li class="nav-item">
                <a class="nav-link text-white" href="{{ '/' | url }}">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-white" href="{{ '/about/' | url }}">Informazioni</a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </header>
  
  <main class="py-4">
    <div class="container">
      {{ content | safe }}
    </div>
  </main>
  
  <footer class="bg-light py-4">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <p class="mb-0">© {{ '' | year }} Tendenze Notizie Italiane</p>
        </div>
        <div class="col-md-6">
          <p class="mb-0 text-md-end">
            <small>Ultimo aggiornamento: {{ topics.date | formatDate }}</small>
          </p>
        </div>
      </div>
      <div class="row mt-3">
        <div class="col-12">
          <p class="small text-muted">
            Questo sito analizza i principali quotidiani italiani per identificare gli argomenti di tendenza. 
            I dati vengono aggiornati quotidianamente. Questo progetto è stato creato a scopo educativo e di portfolio.
          </p>
        </div>
      </div>
    </div>
  </footer>
  
  <!-- Bootstrap JS Bundle with Popper -->
  <script src="{{ '/assets/js/bootstrap.bundle.min.js' | url }}"></script>
  <!-- Chart.js -->
  <script src="{{ '/assets/js/chart.min.js' | url }}"></script>
  
  <!-- Initialize topics data for JavaScript -->
  <script>
    window.topicsData = {
      date: "{{ topics.date }}",
      top_entities: {{ topics.top_entities | dump | safe }},
      top_keywords: {{ topics.top_keywords | dump | safe }},
      top_entities_by_source: {{ topics.top_entities_by_source | dump | safe }},
      sources: {{ topics.sources | dump | safe }},
      total_articles: {{ topics.total_articles }}
    };
  </script>
  
  {% if page.url == "/" %}
  <!-- Visualization JS only on homepage -->
  <script src="{{ '/assets/js/visualization.js' | url }}"></script>
  {% endif %}
</body>
</html>